# ========================================
# JELITA MICROSERVICES - Environment Configuration Template
# ========================================
# Copy this file to .env and update with your actual values
# DO NOT commit .env file to Git (contains secrets!)

# ----------------------------------------
# Database Configuration (MySQL)
# ----------------------------------------
DB_HOST=mysql
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_secure_password_here
DB_ROOT_PASSWORD=your_secure_password_here

# Service-specific databases (auto-created by init scripts)
# - jelita_users (Auth Service)
# - jelita_pendaftaran (Registration Service)
# - jelita_workflow (Workflow Service)
# - jelita_survei (Survey Service)
# - jelita_arsip (Archive Service)

# ----------------------------------------
# JWT Authentication
# ----------------------------------------
JWT_SECRET=your_jwt_secret_key_at_least_32_characters_long
JWT_EXPIRES_IN=24h

# ----------------------------------------
# Service Ports (Default)
# ----------------------------------------
# Auth Service
AUTH_SERVICE_PORT=3001

# Registration Service
REGISTRATION_SERVICE_PORT=3010

# Workflow Service
WORKFLOW_SERVICE_PORT=3020

# Survey Service
SURVEY_SERVICE_PORT=3030

# Archive Service
ARCHIVE_SERVICE_PORT=3040

# API Gateway (if using)
GATEWAY_PORT=8080

# Mock OSS-RBA Service
OSS_MOCK_PORT=4000

# ----------------------------------------
# Service URLs (Docker internal networking)
# ----------------------------------------
AUTH_SERVICE_URL=http://layanan-manajemen-pengguna:3001
REGISTRATION_SERVICE_URL=http://layanan-pendaftaran:3010
WORKFLOW_SERVICE_URL=http://layanan-alur-kerja:3020
SURVEY_SERVICE_URL=http://layanan-survei:3030
ARCHIVE_SERVICE_URL=http://layanan-arsip:3040
OSS_MOCK_URL=http://mock-oss-rba:4000

# ----------------------------------------
# Application Settings
# ----------------------------------------
NODE_ENV=development
# Options: development, production, test

LOG_LEVEL=info
# Options: error, warn, info, debug

# ----------------------------------------
# CORS Configuration
# ----------------------------------------
CORS_ORIGIN=*
# For production, replace * with specific origins

# ----------------------------------------
# Load Testing Configuration (k6)
# ----------------------------------------
# Virtual Users (calculated from production data)
K6_VUS_BASELINE=35
K6_VUS_STRESS=75
K6_DURATION_BASELINE=10m
K6_DURATION_STRESS=8m

# ----------------------------------------
# Mock OSS-RBA Configuration
# ----------------------------------------
OSS_CALLBACK_DELAY=2000
# Delay in milliseconds for callback simulation

OSS_FAILURE_RATE=0
# Percentage (0-100) for failure injection testing

# ----------------------------------------
# Optional: External Service Integration
# ----------------------------------------
# For production deployment with real OSS-RBA
# OSS_RBA_API_URL=https://oss.go.id/api
# OSS_RBA_API_KEY=your_api_key_here
# OSS_RBA_CLIENT_ID=your_client_id
# OSS_RBA_CLIENT_SECRET=your_client_secret

# ----------------------------------------
# Optional: Monitoring & Observability
# ----------------------------------------
# PROMETHEUS_PORT=9090
# GRAFANA_PORT=3000
# JAEGER_AGENT_HOST=jaeger
# JAEGER_AGENT_PORT=6831

# ----------------------------------------
# IMPORTANT NOTES
# ----------------------------------------
# 1. Replace all 'your_*_here' placeholders with actual values
# 2. Generate strong JWT_SECRET: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# 3. For production: Use environment-specific .env files
# 4. Never commit .env to version control
# 5. Rotate secrets regularly
